<div class="blade-static __bottom" ng-include="'$(Platform)/Scripts/common/templates/create.tpl.html'" ng-if="blade.isNew"></div>

<div class="blade-content">
    <div class="blade-inner">
        <div class="inner-block">
            <form class="form" name="contextEntityDetailForm">
                <div class="form-group" ng-init="setForm(contextEntityDetailForm)">
                  <label class="form-label">{{ 'statemachine.blades.state-machine-details.labels.name' | translate }}</label>
                    <div class="form-input">
                        <input ng-model="blade.currentEntity.name" ng-disabled="!blade.canEdit()" placeholder="{{ 'statemachine.blades.state-machine-details.placeholders.name' | translate }}" type="text">
                    </div>
                </div>
                <div class="form-group">
                  <label class="form-label">{{ 'statemachine.blades.state-machine-details.labels.entity-type' | translate }}</label>
                  <div class="form-input">
                    <ui-select ng-model="blade.currentEntity.entityType"
                               search-enabled="false" ng-disabled="!blade.isNew" required>
                      <ui-select-match placeholder="{{ 'statemachine.blades.state-machine-details.placeholders.entity-type-select' | translate }}">{{ $select.selected.caption | translate }}</ui-select-match>
                      <ui-select-choices repeat="entityType.value as entityType in blade.stateMachineRegisteredTypes">
                        <span ng-bind-html="entityType.caption | translate"></span>
                      </ui-select-choices>
                    </ui-select>
                  </div>
                </div>
                <div class="form-group">
                  <label class="form-label">{{ 'statemachine.blades.state-machine-details.labels.is-active' | translate }}</label>
                    <div class="form-input">
                        <label class="form-label __switch">
                            <input type="checkbox" ng-disabled="!blade.canEdit()" ng-model="blade.currentEntity.isActive" ng-change="blade.onIsActiveChanged()" />
                            <span class="switch"></span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                  <a class="btn" ng-click="blade.openVisualEditor();">{{ 'statemachine.blades.state-machine-details.commands.open-visual-editor' | translate }}</a>
                </div>
                <div class="form-group" ng-if="blade.currentEntity.statesCapture">
                    <div class="state-machine-capture-preview">
                      <img ng-src="{{ blade.currentEntity.statesCapture }}" ng-click="blade.openVisualEditor()" />
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
